<ion-view view-title="Log Steps" hide-back-button="true">
          <div backstretch backstretch-images="'http://www.ironman.today/wp-content/uploads/2015/03/walking-1.jpg'"></div>

  <ion-content class="padding-top shadowstyle" style="margin-left:20%; margin-right:20%; background-color:rgba(250, 250, 250, 0.92)">
    
  <br>

    <div class="list text-center padding" >
            <i class="icon ion-ios-paw -b medium positive"></i>
          </div>

            <div class="col text-center">

         

      Select date and enter number of steps taken:
      
      <form name="stepForm" novalidate ng-submit="stepForm.$valid && submitSteps()">
        <md-datepicker ng-model="stepLog.date" ng-change="onDateSelect()"  name="pickeddate" md-min-date="minDate" md-max-date="maxDate" md-is-error="stepForm.pickeddate.$invalid"></md-datepicker>

        <div class="form-error" ng-messages="stepForm.pickeddate.$error" ng-if="stepForm.$submitted">
          <div ng-message="valid">The entered value is not a date!</div>
          <div ng-message="required">This date is required!</div>
          <div ng-message="mindate">Selected date is before the challenge starts!</div>
          <div ng-message="maxdate">Selected date is after the challenge is over!</div>
        </div>

        <br /> <!-- {{stepLog.date | date}} -->
        <md-input-container>
          <label>Steps </label>
          <input name="steps" type="number" ng-model="stepLog.steps"
          ng-min="1"
          ng-max="250000"
          required />
        </md-input-container>
        <div class="form-errors" ng-messages="stepForm.steps.$error" ng-if="stepForm.$submitted">
          <div class="form-error" ng-message="required">This field is required.</div>
          <div class="form-error" ng-message="number">Only numbers, no commas.</div>          
          <div class="form-error" ng-message="min">You must log at least 1 step!</div>
          <div class="form-error" ng-message="max">You tried to log greater than 250,000 steps, are you sure? If so separate into two logs.</div>
        </div>
        <br />
        <md-button type="submit" class="button button-positive">Submit</md-button>
      </form>

         <br>
      <hr width=90%>
      <br>
     
      <h4>Your logged steps:</h4>

    <table class="loggedsteps" style="width=100%">
      <caption> </caption>
      <tr>
          <th> Date </th>
          <th> Steps </th>
      </tr>
      <tr ng-repeat="x in entries | orderBy: 'date'">
          <td>{{ x.date | date}}</td>
          <td>{{ x.steps }}</td>
      </tr>
      <tr>
           <td>Total:</td>
           <td>{{ total }}</td>
     </tr>
    </table>
       
   <br><br><br>

  <!--   <div class="padding-bottom">
        <input ng-click="logOut()" class="button button-block button-positive" value="Log Out">
     </div> -->

     </div>
  </ion-content>


</ion-view>
